import bpy

obj = bpy.context.object

# Make sure an object is selected and has shape keys
if not obj or obj.type != 'MESH' or not obj.data.shape_keys:
    raise Exception("Select a mesh object with shape keys.")

key_blocks = obj.data.shape_keys.key_blocks

for key in key_blocks:
    name = key.name

    # Skip the Basis shape key
    if name == "Basis":
        continue

    # Handle trailing " L" or "L"
    if name.endswith(" L"):
        key.name = name[:-2] + "Left"
    elif name.endswith("L"):
        key.name = name[:-1] + "Left"

    # Handle trailing " R" or "R"
    elif name.endswith(" R"):
        key.name = name[:-2] + "Right"
    elif name.endswith("R"):
        key.name = name[:-1] + "Right"

print("Blendshape renaming complete.")
